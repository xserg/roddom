Api docs: [https://api.мамы.онлайн/docs](https://api.xn--80axb4d.online/docs/).

```cd api.mamy.online```

Install deps:

```
php8.2 ../.local/bin/composer install --no-dev
```

Generate api.json for api documentation:

```
php8.2 ./vendor/bin/openapi app -o public/docs/api.json
```

что в динамике высчитываем:
купленные лекции LectureService::getAllPurchasedLecturesIdsAndTheirDatesByUser
цены на категории, промо пак, все лекции -> аксессор Lecture::prices.

идеи как поменять: хранить в отдельных таблицах, по изменению цены лекции/промопака/категории пересчитывать ->
диспатчить ивент/job пересчитывать -> апдейтить значения в таблицах. И оттуда уже брать эту инфу и отдавать
на фронт

где диспатчим -> админка:
изменение цены общей в подкатегории -> пересчитываем цены всех лекций в категории, цены за всепак лекций


какие цены можно менять в админке:
1.общая цена на каждый период в каждой подкатегории  'category_prices'
2.кастомная цена на каждый период в каждой лекции 'lecture_prices'

3.общая цена на каждый период в акционном паке 'promo_pack_prices'
4.кастомная цена на каждый период в каждой лекции 'promo_lecture_prices'

payed finale lect prices:      promo final lect prices:    
period_id lecture_id price     period_id lecture_id price

когда пересчитываем
при создании берем от подкатегории и от промопака и ложим в обе таблицы для каждого периода
при добавлении кастомной цены - в зависимости от её типа - апдейтим финальную в соотв. таблице на соотв период
при изменении кастомной цены - в зависимости от её типа - апдейтим финальную в соотв. таблице на соотв период
при удалении - в зависимости от её типа - апдейтим финальную в соотв. таблице на соотв период НА соотв цену

- при изменении подкатегории берем общую цену у подкатегории и апдейтим финальную 
в payed final lect prices таблице на соотв период если нет кастомной
  //TODO Дописать это
